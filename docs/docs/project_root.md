
[![logo](../logo.png)](../docs.md "documentation") 

[H]: ../docs.md        "родитель"
[P]: ../icons/progress.png  "в процессе..."
[S]: ../icons/success.png   "ошибок не обнаружено"
[E]: ../icons/empty.png     "нет данных"

[INCLUDE_CONFIGURATIONS]: project_root.md#include_configurations "список поддерживаемых конфигураций"  
[EXCLUDE_CONFIGURATIONS]: project_root.md#exclude_configurations "список неподдерживаемых конфигураций"  
[VERSION]: project_root.md#version "версия продукта"  

[1]: reference/request.md
    
[![P]][H] project.root v0.0.1
=============================
Для понимания сабжа, нужно сначала ознакомиться с [форматом запроса конфигурации][1]  

Если файл `project.root` существует, то он должен находиться в корне каталога исходников.  
Само название файла `project.root` означает "корень проекта"  


Пример содержимого файла:  

```
# --- preliminary'mt5'plugins/pamm5                               [project.root]
# [2024-09-16][19:00:00] 002 Kartonagnick PRE
# [2024-09-15][19:00:00] 001 Kartonagnick
# [2024-09-15][18:00:00] registration on Gitlab
# [2024-09-15][17:56:57] birthday of the project

#------------------------------------------------------------------------------

INCLUDE_CONFIGURATIONS = msvc2015; msvc2017; msvc2019
EXCLUDE_CONFIGURATIONS = mingw494:32:all:static
VERSION = ver-0.1.0
```

Хорошим тоном разработки является указание в виде комментария:  
  - дата рождения проекта  
  - дата официальной регистрации проекта  
  - датировки релизов  
  - указания префикса PRE на этапе разработке  
<br/>

Файл содержит глобальные настройки проекта:  
  - [INCLUDE_CONFIGURATIONS]  
  - [EXCLUDE_CONFIGURATIONS]  
  - [VERSION]  
<br/>


INCLUDE_CONFIGURATIONS
----------------------
Задаёт список поддерживаемых проектом конфигураций:  

```
# можно указать несколько конфигураций в нескольких строчках
INCLUDE_CONFIGURATIONS = msvc-all
INCLUDE_CONFIGURATIONS = mingw
```

По умолчанию - `all`  
Движок может быть запущен в режиме "собрать всё".  
Однако, в итоговый список конфигураций войдут только и только поддерживаемые конфигурации.  
<br/>


EXCLUDE_CONFIGURATIONS
----------------------
Задаёт список не поддерживаемых проектом конфигураций.  
По умолчанию - не используется.  

```
# можно указать несколько конфигураций в нескольких строчках
EXCLUDE_CONFIGURATIONS = msvc
EXCLUDE_CONFIGURATIONS = mingw
```

Движок может быть запущен в режиме "собрать всё".  
Однако, в итоговый список конфигураций войдут только и только поддерживаемые конфигурации.  
А игнорируемые конфигурации будут исключены из списка итоговых конфигураций  
<br/>


VERSION
-------
Версия продукта.  
Можно просто указать конкретную версию:  

```
VERSION = ver-0.1.0
```

Либо можно указать файл, из которого нужно извлечь версию:  
```
VERSION = plugin\include\plugin\confbuild.hpp
```

В файле осуществляется поиск записей вида:  

```
#define dVERSION_MAJOR      1
#define dVERSION_MINOR      2
#define dVERSION_PATCH      3
```

Поиск выполняется по маскам: `*_MAJOR`, `*_MINOR`, `*_PATCH`  
Если все три значения успешно обнаружены, тогда из них формируется версия: `ver-1.2.3`  
В дальнейшем эта версия может быть использована в путях `build` или `product`  
<br/>


История изменений 
-----------------

| *ID* |    дата    | время |     ветка      | version |  
|:----:|:----------:|:-----:|:--------------:|:-------:|  
| 0001 | 2025-02-27 | 19:30 | [#1-rep-first] |  0.0.1  |  

*ПРИМЕЧАНИЕ: под version подразумевается версия `project.root`*  

[#1-rep-first]: ../history.md#-v001-rep
