[![logo](../../logo.png)](../docs.md "documentation") 

[H]: ../../docs.md        "родитель"
[P]: ../../icons/progress.png  "в процессе..."
[S]: ../../icons/success.png   "ошибок не обнаружено"
[E]: ../../icons/empty.png     "нет данных"
    
[![P]][H] Запрос конфигурации v0.0.1
====================================
Для запроса списка итоговых конфигураций используется особый формат записи,  
который позволяет указать множество конфигураций,  
без необходимости перечислять их все вручную.  

Конфигурации задаются в виде списка, элементы которого разделены точкой-с-запятой.  
Например: `msvc; mingw; clang` - это сокращенная форма записи без указания конкретных тэгов.  

Каждая конкретная конфигурация задаётся в виде набора из четырех тэгов:  
`{COMPILER_TAG}:{ADDRESS_MODEL}:{BUILD_TYPE}:{RUNTIME_CPP}`  
Например: `msvc2019:64:debug:static` означает:  
что нужна сборка для `Visual Studio 2019`, 64х битная, отладочная, со статическим рантаймом.  
- Первый тэг: определяет имя компилятора и версию: `msvc`, `msvc2019`, `msvc-all`  
- Второй тэг: определяет битность: `32` или `64`, или `all`  
- Теритий тэг: определяет тип сборки: `debug` или `release`, или `all`  
- Четвертый тэг: определяет спсоб линковски с рантайм с++: `dynamic` или `static`, или `all`  

Тэги можно не указывать.  
По умолчанию используется значение `all`  
Например, в конфигурации: `msvc` опущены 3 тэга: `msvc:all:all:all`  

Тэг `all` означает, что нужны конфигурации всех вариантов некоторого тэга.  

Например: `msvc2019:64:debug:all` означает, что нужны конфигурации и `dynamic`, и `static`
  - `msvc2019:64:debug:static`  
  - `msvc2019:64:debug:dynamic`  
<br/>

А запрос: `msvc2019:all:debug:all` означает 4ре конфигурации:  
  - `msvc2019:64:debug:static`  
  - `msvc2019:64:debug:dynamic`  
  - `msvc2019:32:debug:static`  
  - `msvc2019:32:debug:dynamic`  
<br/>

А такой запрос: `msvc2019:all:all:all` разворачивается в 8мь конфигураций:  
  - `msvc2019:64:release:static`  
  - `msvc2019:64:release:dynamic`  
  - `msvc2019:64:debug:static`  
  - `msvc2019:64:debug:dynamic`  
  - `msvc2019:32:release:static`  
  - `msvc2019:32:release:dynamic`  
  - `msvc2019:32:debug:static`  
  - `msvc2019:32:debug:dynamic`  
<br/>

Самый первый тэг: `COMPILER_TAG` может задаваться в формате:  
  - `{COMPILER_TAG}`          - самый новый компилятор.  
  - `{COMPILER_TAG}{Версия}`  - компилятор указанной версии.  
  - `{COMPILER_TAG}-{Версия}` - компилятор указанной версии.  
  - `{COMPILER_TAG}All`       - все версии указанного компилятора.  
  - `{COMPILER_TAG}-All`      - все версии указанного компилятора.  

Таблица допустимых значений для тэгов:  

|      тэг      | значение  |         описание                     |
|:-------------:|:---------:|:------------------------------------:|
| COMPILER_TAG  | all       | все компиляторы                      |
| COMPILER_TAG  | msvc      | самый новый компилятор visual studio |
| COMPILER_TAG  | mingw     | самый новый компилятор mingw         |
| COMPILER_TAG  | msvc-ALL  | все компиляторы visual studio        |
| COMPILER_TAG  | mingw-ALL | все компиляторы mingw                |
| COMPILER_TAG  | msvc2019  | компилятор visual studio 2019        |
| COMPILER_TAG  | msvc-2019 | компилятор visual studio 2019        |
| COMPILER_TAG  | mingw810  | компилятор mingw 810                 |
| COMPILER_TAG  | mingw-810 | компилятор mingw 810                 |

|      тэг      | значение  |         описание                     |
|:-------------:|:---------:|:------------------------------------:|
| ADDRESS_MODEL | all       | все версии: и 32, и 64               |
| ADDRESS_MODEL | 32        | только 32 битная версия              |
| ADDRESS_MODEL | 64        | только 64 битная версия              |

|      тэг      | значение  |         описание                     |
|:-------------:|:---------:|:------------------------------------:|
|  BUILD_TYPE   | all       | все версии: и отладочная, и релиз    |
|  BUILD_TYPE   | debug     | только отладочная                    |
|  BUILD_TYPE   | release   | только релиз                         |

|      тэг      | значение  |         описание                     |
|:-------------:|:---------:|:------------------------------------:|
|  RUNTIME_CPP  | all       | и статическая, и динамическая        |
|  RUNTIME_CPP  | dynamic   | динамическая линковка с RUNTIME_CPP  |
|  RUNTIME_CPP  | static    | статическая линковка с RUNTIME_CPP   |

<br/>


Диапазоны допустимых значений
-----------------------------
Задаются в файле `_cache\settings_{USER}-{COMPUTER}.bat`  
```
set "eALL_COMPILER_TAGS=msvc mingw" 
set "eALL_ADDRESS_MODELS=32 64" 
set "eALL_BUILD_BUILD_TYPES=debug release" 
set "eALL_RUNTIME_CPPS=dynamic static" 
```
<br/>


Сортировка итогового списка конфигураций
----------------------------------------
Исходная строка запрошенных конфигураций разворачивается в итоговый список конкретных конфигураций.  
Конфигурации в этом списке сортируются по следующему принципу:  

1. Сначала все конфигурации группируются по названию компилятора,  
   в соответсвии со значением переменной `eALL_COMPILER_TAGS`  
   Если первой в списке идет msvc, то и в итоговом списке  
   msvc так же будут идти первыми.  

2. Затем, по аналогии, сортировка идет по второму тэгу, в соответствии с `eALL_ADDRESS_MODELS`  
2. Затем - по третьму тэгу, в соответствии с `eALL_BUILD_BUILD_TYPES`  
3. Затем - по четвертому тэгу, в соответствии с `eALL_RUNTIME_CPPS`  
<br/>


История изменений 
-----------------

| *ID* |    дата    | время |     ветка      | version |  
|:----:|:----------:|:-----:|:--------------:|:-------:|  
| 0001 | 2025-02-27 | 19:30 | [#1-rep-first] |  0.0.1  |  

*ПРИМЕЧАНИЕ: под version подразумевается версия `project.root`*  

[#1-rep-first]: ../../history.md#-v001-rep
